import{j as e}from"./jsx-runtime.BjG_zV1W.js";import{r as i}from"./index.CTbGshLK.js";import{C as D}from"./car.BxqD5LvF.js";import{M as F}from"./map-pin.Cezl_fwJ.js";import{c as v}from"./createLucideIcon.BiIs2C2-.js";import{A as R}from"./arrow-right.DJXr9YHs.js";/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],B=v("info",_);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],M=v("navigation",E),P=[{source:"chennai",destination:"madurai",distanceKm:462,setcFare:550,redBusAvg:800},{source:"chennai",destination:"trichy",distanceKm:332,setcFare:410,redBusAvg:650},{source:"chennai",destination:"coimbatore",distanceKm:505,setcFare:620,redBusAvg:900},{source:"chennai",destination:"salem",distanceKm:340,setcFare:420,redBusAvg:600},{source:"chennai",destination:"tirunelveli",distanceKm:624,setcFare:750,redBusAvg:1100},{source:"chennai",destination:"thanjavur",distanceKm:342,setcFare:415,redBusAvg:650},{source:"chennai",destination:"kanyakumari",distanceKm:708,setcFare:850,redBusAvg:1200},{source:"chennai",destination:"bangalore",distanceKm:346,setcFare:450,redBusAvg:700},{source:"chennai",destination:"pondicherry",distanceKm:151,setcFare:200,redBusAvg:350},{source:"chennai",destination:"vellore",distanceKm:137,setcFare:180,redBusAvg:300}];function Y(){const[d,h]=i.useState(""),[m,g]=i.useState(""),[f,o]=i.useState(!1),[c,j]=i.useState(null),x=i.useRef(null),u=i.useRef(null);i.useEffect(()=>{let a=0;const r=50,n=setInterval(()=>{if(a++,window.google&&window.google.maps&&window.google.maps.places){clearInterval(n);const s={componentRestrictions:{country:"in"},fields:["geometry","name"],strictBounds:!1};if(x.current){const l=new window.google.maps.places.Autocomplete(x.current,s);l.addListener("place_changed",()=>{const t=l.getPlace();t.name&&h(t.name)})}if(u.current){const l=new window.google.maps.places.Autocomplete(u.current,s);l.addListener("place_changed",()=>{const t=l.getPlace();t.name&&g(t.name)})}}else a>=r&&clearInterval(n)},100);return()=>clearInterval(n)},[]);const N=(a,r,n)=>{const t=1300+n;j({total:t,dist:a,duration:r,breakdown:{bata:1e3,food:300,bus:n}}),o(!1)},y=()=>{if(!d||!m){alert("Please enter both locations");return}o(!0),j(null);const a=d.toLowerCase(),r=m.toLowerCase(),n=P.find(s=>a.includes(s.source)&&r.includes(s.destination)||a.includes(s.destination)&&r.includes(s.source));if(n){setTimeout(()=>{const s=n.distanceKm,l=Math.round(s/50)+" hrs (Est)",t=n.setcFare;N(s,l,t)},600);return}window.google&&window.google.maps?new window.google.maps.DistanceMatrixService().getDistanceMatrix({origins:[d],destinations:[m],travelMode:window.google.maps.TravelMode.DRIVING,unitSystem:window.google.maps.UnitSystem.METRIC},(l,t)=>{if(t!=="OK"){alert("Error with distance service"),o(!1);return}const b=l.rows[0];if(!b){o(!1);return}const p=b.elements[0];if(p.status!=="OK"){alert("Could not calculate distance."),o(!1);return}const A=p.distance.value,w=Math.round(A/1e3),k=p.duration.text,C=Math.round(w*1.2);N(w,k,C)}):(alert("Google Maps API not loaded"),o(!1))};return e.jsxs("div",{className:"w-full bg-white rounded-3xl shadow-xl border border-slate-200 overflow-hidden max-w-md mx-auto font-sans p-6 text-slate-900",children:[e.jsxs("div",{className:"flex flex-col items-center text-center gap-2 mb-6",children:[e.jsx(D,{className:"w-10 h-10 text-green-600"}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-slate-900 text-xl",children:[e.jsx("span",{className:"lang-en",children:"Vehicle Relocation Quote"}),e.jsx("span",{className:"lang-ta",children:"வாகன இடமாற்ற மதிப்பீடு"})]}),e.jsxs("p",{className:"text-xs text-slate-500",children:[e.jsx("span",{className:"lang-en",children:"Estimate your relocation cost"}),e.jsx("span",{className:"lang-ta",children:"உங்கள் இடமாற்ற செலவை மதிப்பிடுங்கள்"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1.5",children:[e.jsx("span",{className:"lang-en",children:"Pickup City"}),e.jsx("span",{className:"lang-ta",children:"புறப்படும் நகரம்"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(F,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),e.jsx("input",{ref:x,type:"text",placeholder:"e.g. Coimbatore",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm font-medium",onChange:a=>h(a.target.value)})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1.5",children:[e.jsx("span",{className:"lang-en",children:"Drop City"}),e.jsx("span",{className:"lang-ta",children:"சேரும் நகரம்"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-3 w-4 h-4 text-slate-400"}),e.jsx("input",{ref:u,type:"text",placeholder:"e.g. Chennai",className:"w-full pl-10 pr-4 py-3 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-sm font-medium",onChange:a=>g(a.target.value)})]})]}),e.jsx("button",{onClick:y,disabled:f,className:"w-full bg-slate-900 hover:bg-slate-800 text-white font-bold py-3.5 rounded-xl transition-all flex items-center justify-center shadow-lg disabled:opacity-70",children:f?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"lang-en",children:"Calculating..."}),e.jsx("span",{className:"lang-ta",children:"கணக்கிடுகிறது..."})]}):e.jsxs("span",{className:"flex items-center",children:[e.jsx("span",{className:"lang-en",children:"Calculate Cost"}),e.jsx("span",{className:"lang-ta",children:"செலவை கணக்கிடு"}),e.jsx(R,{className:"w-4 h-4 ml-2"})]})}),e.jsxs("div",{className:"mt-3 p-3 bg-yellow-50 border border-yellow-100 rounded-lg flex gap-2 items-start",children:[e.jsx(B,{className:"w-4 h-4 text-yellow-600 shrink-0 mt-0.5"}),e.jsxs("p",{className:"text-xs text-yellow-800 leading-relaxed font-medium",children:[e.jsxs("span",{className:"font-bold",children:[e.jsx("span",{className:"lang-en",children:"Note:"}),e.jsx("span",{className:"lang-ta",children:"குறிப்பு:"})]}),e.jsx("span",{className:"lang-en",children:" Fuel & Tolls are extra. Driver travel cost is reimbursed at actuals (Bus/Train)."}),e.jsx("span",{className:"lang-ta",children:" எரிபொருள் & சுங்கச்சாவடி கட்டணம் தனி. ஓட்டுநர் பயண செலவு (பேருந்து/ரயில்) திரும்ப வழங்கப்படும்."})]})]})]}),c&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 animate-in fade-in slide-in-from-top-2",children:[e.jsxs("div",{className:"flex justify-between items-end mb-4",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase mb-1",children:[e.jsx("span",{className:"lang-en",children:"Estimated Total"}),e.jsx("span",{className:"lang-ta",children:"மொத்த மதிப்பீடு"})]}),e.jsxs("p",{className:"text-3xl font-extrabold text-slate-900 tracking-tight",children:["₹",c.total]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-sm font-bold text-slate-600",children:[c.dist," km"]}),e.jsx("p",{className:"text-xs text-slate-400",children:c.duration})]})]}),e.jsxs("div",{className:"space-y-2 text-sm bg-slate-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-slate-600",children:[e.jsx("span",{className:"lang-en",children:"Driver Bata"}),e.jsx("span",{className:"lang-ta",children:"ஓட்டுநர் பேட்டா"})]}),e.jsxs("span",{className:"font-bold text-slate-900",children:["₹",c.breakdown.bata]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-slate-600",children:[e.jsx("span",{className:"lang-en",children:"Food Allowance"}),e.jsx("span",{className:"lang-ta",children:"உணவு படி"})]}),e.jsxs("span",{className:"font-bold text-slate-900",children:["₹",c.breakdown.food]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-slate-600",children:[e.jsx("span",{className:"lang-en",children:"Return Travel (Est)"}),e.jsx("span",{className:"lang-ta",children:"திரும்பும் பயணம் (மதிப்பீடு)"})]}),e.jsxs("span",{className:"font-bold text-slate-900",children:["₹",c.breakdown.bus]})]})]})]})]})}export{Y as default};
